no_primary_key__DDCW_FLAG_SPIT__SELECT      aa.TABLE_SCHEMA, aa.TABLE_NAME FROM     (SELECT          TABLE_SCHEMA, TABLE_NAME     FROM INFORMATION_SCHEMA.TABLES     WHERE         TABLE_SCHEMA NOT IN ('sys','information_schema','mysql','performance_schema')) AS aa LEFT JOIN     (SELECT          TABLE_SCHEMA, TABLE_NAME     FROM         INFORMATION_SCHEMA.TABLE_CONSTRAINTS     WHERE                CONSTRAINT_TYPE = 'PRIMARY KEY'             ) AS bb ON aa.TABLE_SCHEMA = bb.TABLE_SCHEMA         AND aa.TABLE_NAME = bb.TABLE_NAME WHERE bb.TABLE_NAME IS NULL;
redundant_indexes__DDCW_FLAG_SPIT__select table_schema,table_name,redundant_index_name,redundant_index_columns,dominant_index_name,dominant_index_columns,sql_drop_index from sys.schema_redundant_indexes
unused_indexes__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.schema_unused_indexes;
full_table_scans__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.statements_with_full_table_scans where last_seen < DATE_SUB(current_timestamp(), INTERVAL 0.5 DAY)
auto_increment_columns__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.schema_auto_increment_columns where auto_increment_ratio > 0.80;
special_column__DDCW_FLAG_SPIT__select TABLE_SCHEMA,TABLE_NAME,COLUMN_NAME,COLUMN_TYPE from information_schema.columns where COLUMN_TYPE in ('longblob','blob','mediumtext','mediumblob','text') and TABLE_SCHEMA not in ('sys','information_schema','mysql','performance_schema');
big_table__DDCW_FLAG_SPIT__select TABLE_SCHEMA,TABLE_NAME,ENGINE,TABLE_ROWS,DATA_LENGTH from information_schema.tables where TABLE_ROWS > 10000000 and DATA_LENGTH > 32212254720;
cold_table__DDCW_FLAG_SPIT__select TABLE_SCHEMA,TABLE_NAME,ENGINE,UPDATE_TIME from information_schema.tables where UPDATE_TIME < DATE_SUB(current_timestamp(), INTERVAL 90 DAY) and TABLE_SCHEMA not in ('sys','information_schema','mysql','performance_schema');
partition_table__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from (select TABLE_SCHEMA,TABLE_NAME,count(PARTITION_NAME) as count from information_schema.PARTITIONS where table_schema not in ('sys','information_schema','mysql','performance_schema') group by TABLE_SCHEMA,TABLE_NAME) as aa where aa.count > 0;
is_nullable__DDCW_FLAG_SPIT__select TABLE_SCHEMA,TABLE_NAME,COLUMN_NAME,IS_NULLABLE from information_schema.columns where IS_NULLABLE='YES' and table_schema not in ('sys','information_schema','mysql','performance_schema');
no_innodb_table__DDCW_FLAG_SPIT__select TABLE_SCHEMA,TABLE_NAME,ENGINE from information_schema.tables where ENGINE != 'InnoDB' and TABLE_SCHEMA not in ('sys','information_schema','mysql','performance_schema');
table_static_expired__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from mysql.innodb_table_stats where last_update < DATE_SUB(current_timestamp(), INTERVAL 90 DAY) and database_name not in ('sys','information_schema','mysql','performance_schema');
fragment_table__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from (select TABLE_SCHEMA,TABLE_NAME,DATA_LENGTH,DATA_FREE,round(DATA_FREE/(DATA_LENGTH+DATA_FREE)*100,2) as fragment_rate from information_schema.tables where DATA_LENGTH>0 and TABLE_SCHEMA not in ('sys','information_schema','mysql','performance_schema')) as aa where aa.fragment_rate > 40;
same_user_password__DDCW_FLAG_SPIT__SELECT CONCAT(user, '@', host) as account FROM mysql.user where authentication_string = CONCAT('*', UPPER(SHA1(UNHEX(SHA1(user)))))
expired_password__DDCW_FLAG_SPIT__SELECT CONCAT(user, '@', host) as account from mysql.user where password_expired='Y';
any_host__DDCW_FLAG_SPIT__SELECT CONCAT(user, '@', host) as account FROM mysql.user where host = '%';
simple_password__DDCW_FLAG_SPIT__select 1;
innodb_buffer_stats_by_schema__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.innodb_buffer_stats_by_schema;
schema_object_overview__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.schema_object_overview;
memory_global_by_current_bytes__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.memory_global_by_current_bytes;
io_global_by_wait_by_latency__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.io_global_by_wait_by_latency;
waits_global_by_latency__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from sys.waits_global_by_latency;
schema_table_lock_waits__DDCW_FLAG_SPIT__select object_name,waiting_pid,waiting_query,blocking_pid,blocking_account,sql_kill_blocking_query from sys.schema_table_lock_waits;
innodb_lock_waits__DDCW_FLAG_SPIT__select locked_table,waiting_pid,waiting_query,blocking_pid,blocking_query,sql_kill_blocking_query from sys.innodb_lock_waits;
master_info__DDCW_FLAG_SPIT__select THISISFLAG_FOR_XINGHAO_BYDDCW from information_schema.processlist where COMMAND = 'Binlog Dump';
slave_info__DDCW_FLAG_SPIT__select 1;
pxc_info__DDCW_FLAG_SPIT__select 1;
mgr_info__DDCW_FLAG_SPIT__select 1;
log_bin__DDCW_FLAG_SPIT__select @@log_bin;
default_storage_engine__DDCW_FLAG_SPIT__select @@default_storage_engine;
innodb_flush_log_at_trx_commit__DDCW_FLAG_SPIT__select @@innodb_flush_log_at_trx_commit;
sync_binlog__DDCW_FLAG_SPIT__select @@innodb_flush_log_at_trx_commit;
general_log__DDCW_FLAG_SPIT__select @@general_log;
slow_query_log__DDCW_FLAG_SPIT__select @@slow_query_log;
transaction_isolation__DDCW_FLAG_SPIT__select @@transaction_isolation;
innodb_buffer_pool_size__DDCW_FLAG_SPIT__select @@innodb_buffer_pool_size;
server_id__DDCW_FLAG_SPIT__select @@server_id;
innodb_log_file_size__DDCW_FLAG_SPIT__select @@innodb_log_file_size;
innodb_log_files_in_group__DDCW_FLAG_SPIT__select @@innodb_log_files_in_group;
innodb_page_size__DDCW_FLAG_SPIT__select @@innodb_page_size;
innodb_doublewrite__DDCW_FLAG_SPIT__select @@innodb_doublewrite;
gtid_mode__DDCW_FLAG_SPIT__select @@gtid_mode;
performance_schema__DDCW_FLAG_SPIT__select @@performance_schema;
binlog_format__DDCW_FLAG_SPIT__select @@binlog_format;
binlog_row_image__DDCW_FLAG_SPIT__select @@binlog_row_image;
max_connections__DDCW_FLAG_SPIT__select @@max_connections;
innodb_io_capacity__DDCW_FLAG_SPIT__select @@innodb_io_capacity;
innodb_io_capacity_max__DDCW_FLAG_SPIT__select @@innodb_io_capacity_max;
innodb_log_buffer_size__DDCW_FLAG_SPIT__select @@innodb_log_buffer_size;
